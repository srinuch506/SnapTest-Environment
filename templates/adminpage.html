<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Secure Test System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='adminpage.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logout-section">
                <a href="{{ url_for('landing') }}" class="logout-btn">
                    <i class="fas fa-home"></i>
                    Back to Home
                </a>
            </div>
            <ul class="nav-links">
                <li><a href="{{ url_for('admindashboard') }}" class="active">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a></li>
                <li><a href="{{ url_for('testcontent') }}">
                    <i class="fas fa-edit"></i> Test Content
                </a></li>
                <li><a href="{{ url_for('showstudentsdata') }}">
                    <i class="fas fa-users"></i> Student Data
                </a></li>
                <li><a href="{{ url_for('download_excel') }}">
                    <i class="fas fa-download"></i> Export Data
                </a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h1><i class="fas fa-shield-alt"></i> Admin Dashboard</h1>
                <p>Manage your test system efficiently and securely</p>
            </div>

            <!-- Success/Error Messages -->
            {% if x %}
            <div class="message success">
                <i class="fas fa-check-circle"></i>
                ✅ {{ x }}
            </div>
            {% endif %}

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">📊</div>
                    <div class="stat-label">Test Management</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">👥</div>
                    <div class="stat-label">Student Data</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">📝</div>
                    <div class="stat-label">Content Control</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">📥</div>
                    <div class="stat-label">Export Data</div>
                </div>
            </div>

            <!-- Dashboard Grid -->
            <div class="dashboard-grid">
                <!-- Test Content Management -->
                <div class="card">
                    <h3>
                        <div class="card-icon">📝</div>
                        Test Content
                    </h3>
                    <p>Add and manage test questions and content for students. Create comprehensive assessments with ease.</p>
                    <a href="{{url_for('testcontent')}}" class="btn btn-success">
                        <i class="fas fa-plus"></i>
                        Add Test Content
                    </a>
                </div>

                <!-- Student Data Management -->
                <div class="card">
                    <h3>
                        <div class="card-icon">👥</div>
                        Student Data
                    </h3>
                    <p>View and manage student information and test results. Monitor performance and track progress.</p>
                    <a href="{{url_for('showstudentsdata')}}" class="btn btn-success">
                        <i class="fas fa-eye"></i>
                        View Students
                    </a>
                </div>

                <!-- Clear Student Data -->
                <div class="card">
                    <h3>
                        <div class="card-icon">🗑️</div>
                        Clear Student Data
                    </h3>
                    <p>Remove all student records from the database. Use with caution as this action cannot be undone.</p>
                    <form id="clearAllForm">
                        <button type="submit" class="btn btn-danger" style="background-color:rgb(252, 61, 61); color: white;">
                            <i class="fas fa-trash"></i>
                            Clear All students Data
                        </button>
                    </form>
                </div>

                <!-- Clear Test Content -->
                <div class="card">
                    <h3>
                        <div class="card-icon">📋</div>
                        Clear Test Content
                    </h3>
                    <p>Remove all test questions and content from the database. This will reset all test materials.</p>
                    <form id="clearTestContentForm">
                        <button type="submit" class="btn btn-warning">
                            <i class="fas fa-eraser"></i>
                            Clear Test Content
                        </button>
                    </form>
                </div>

                <!-- Download Excel -->
                <div class="card">
                    <h3>
                        <div class="card-icon">📥</div>
                        Export Data
                    </h3>
                    <p>Download student data as an Excel file for analysis and reporting purposes.</p>
                    <a href="{{url_for('download_excel')}}" class="btn btn-success">
                        <i class="fas fa-file-excel"></i>
                        Download Excel
                    </a>
                </div>

                <!-- System Status -->
                <div class="card">
                    <h3>
                        <div class="card-icon">⚙️</div>
                        System Status
                    </h3>
                    <p>Monitor system performance and database connectivity in real-time.</p>
                    <div class="system-status">
                        <i class="fas fa-circle"></i>
                        🟢 System Online
                    </div>
                </div>
            </div>

            <!-- Logout Section -->
            <div class="logout-section">
                <a href="{{ url_for('landing') }}" class="logout-btn">
                    <i class="fas fa-home"></i>
                    Back to Home
                </a>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation Toggle -->
    <button class="nav-toggle" id="navToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Include Admin JavaScript -->
    <script src="{{ url_for('static', filename='admin.js') }}"></script>
</body>
</html>
